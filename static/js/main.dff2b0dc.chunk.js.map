{"version":3,"sources":["components/Effects.tsx","components/Lights.tsx","components/Model.tsx","components/FallenAngel.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Effects","datas","useController","useState","lightMesh","setLightMesh","scene","useThree","useEffect","userData","refs","lightMeshRef","enabled","sun","current","useControls","samples","value","min","max","step","density","decay","weight","exposure","clampMax","blur","kernelSize","options","VERY_SMALL","SMALL","MEDIUM","LARGE","VERY_LARGE","HUGE","blendFunction","SKIP","ADD","ALPHA","AVERAGE","COLOR_BURN","COLOR_DODGE","DARKEN","DIFFERENCE","EXCLUSION","LIGHTEN","MULTIPLY","DIVIDE","NEGATION","NORMAL","OVERLAY","REFLECT","SCREEN","SOFT_LIGHT","SUBTRACT","Lights","intensity","position","PointLight","lightRef","useRef","useHelper","THREE","helper","meshRef","lookAt","ref","args","size","color","side","lighten","toHexString","castShadow","ModelPath","process","Model","props","rotate","group","useGLTF","nodes","materials","useFrame","rotation","y","dispose","receiveShadow","geometry","Mesh_0001","material","preload","FallenAngel","bgColor","camera","fov","aspect","window","innerWidth","innerHeight","near","far","dpr","devicePixelRatio","shadows","attach","Stats","OrbitControls","fallback","App","style","width","height","backgroundColor","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dff2b0dc.chunk.js","sourcesContent":["import { useControls } from 'leva';\r\nimport React, { useEffect, useState, VFC } from 'react';\r\nimport THREE from 'three';\r\nimport { useThree } from '@react-three/fiber';\r\nimport { EffectComposer, GodRays } from '@react-three/postprocessing';\r\n\r\nexport const Effects: VFC = () => {\r\n\t// add controller\r\n\tconst datas = useController()\r\n\r\n\tconst [lightMesh, setLightMesh] = useState<\r\n\t\tReact.MutableRefObject<THREE.Mesh<THREE.BufferGeometry, THREE.Material | THREE.Material[]>>\r\n\t>()\r\n\r\n\tconst { scene } = useThree()\r\n\r\n\tuseEffect(() => {\r\n\t\tif (scene.userData.refs && scene.userData.refs.lightMesh) {\r\n\t\t\tconst lightMeshRef = scene.userData.refs.lightMesh\r\n\t\t\tsetLightMesh(lightMeshRef)\r\n\t\t}\r\n\t}, [scene.userData.refs])\r\n\r\n\treturn (\r\n\t\t<EffectComposer>\r\n\t\t\t<>{lightMesh && datas.enabled && <GodRays sun={lightMesh.current!} {...datas} />}</>\r\n\t\t</EffectComposer>\r\n\t)\r\n}\r\n\r\nconst useController = () => {\r\n\tconst datas = useControls('GodRays', {\r\n\t\tenabled: true,\r\n\t\tsamples: { value: 100, min: 10, max: 200, step: 10 },\r\n\t\tdensity: { value: 0.96, min: 0, max: 1, step: 0.01 },\r\n\t\tdecay: { value: 0.98, min: 0, max: 1, step: 0.01 },\r\n\t\tweight: { value: 0.3, min: 0, max: 1, step: 0.01 },\r\n\t\texposure: { value: 1, min: 0, max: 1, step: 0.01 },\r\n\t\tclampMax: { value: 1, min: 0, max: 1, step: 0.01 },\r\n\t\tblur: { value: 0, min: 0, max: 1, step: 1 },\r\n\t\tkernelSize: {\r\n\t\t\t// https://vanruesc.github.io/postprocessing/public/docs/file/src/materials/ConvolutionMaterial.js.html#lineNumber124\r\n\t\t\toptions: {\r\n\t\t\t\tVERY_SMALL: 0,\r\n\t\t\t\tSMALL: 1,\r\n\t\t\t\tMEDIUM: 2,\r\n\t\t\t\tLARGE: 3,\r\n\t\t\t\tVERY_LARGE: 4,\r\n\t\t\t\tHUGE: 5\r\n\t\t\t},\r\n\t\t\tvalue: 1\r\n\t\t},\r\n\t\tblendFunction: {\r\n\t\t\t// https://vanruesc.github.io/postprocessing/public/docs/file/src/effects/blending/BlendFunction.js.html\r\n\t\t\toptions: {\r\n\t\t\t\tSKIP: 0,\r\n\t\t\t\tADD: 1,\r\n\t\t\t\tALPHA: 2,\r\n\t\t\t\tAVERAGE: 3,\r\n\t\t\t\tCOLOR_BURN: 4,\r\n\t\t\t\tCOLOR_DODGE: 5,\r\n\t\t\t\tDARKEN: 6,\r\n\t\t\t\tDIFFERENCE: 7,\r\n\t\t\t\tEXCLUSION: 8,\r\n\t\t\t\tLIGHTEN: 9,\r\n\t\t\t\tMULTIPLY: 10,\r\n\t\t\t\tDIVIDE: 11,\r\n\t\t\t\tNEGATION: 12,\r\n\t\t\t\tNORMAL: 13,\r\n\t\t\t\tOVERLAY: 14,\r\n\t\t\t\tREFLECT: 15,\r\n\t\t\t\tSCREEN: 16,\r\n\t\t\t\tSOFT_LIGHT: 17,\r\n\t\t\t\tSUBTRACT: 18\r\n\t\t\t},\r\n\t\t\tvalue: 16\r\n\t\t}\r\n\t})\r\n\treturn datas\r\n}\r\n","import { color } from 'csx';\r\nimport { useControls } from 'leva';\r\nimport React, { useEffect, useRef, VFC } from 'react';\r\nimport * as THREE from 'three';\r\nimport { useHelper } from '@react-three/drei';\r\nimport { useThree } from '@react-three/fiber';\r\n\r\nexport const Lights: VFC = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ambientLight intensity={0.05} />\r\n\t\t\t<PointLight position={[0, 3, -5]} />\r\n\t\t</>\r\n\t)\r\n}\r\n\r\ntype PointLightProps = {\r\n\tposition: [number, number, number]\r\n}\r\n\r\nconst PointLight: VFC<PointLightProps> = ({ position }) => {\r\n\t// add controller\r\n\tconst datas = useController()\r\n\r\n\t// add helper\r\n\tconst lightRef = useRef<THREE.Light>()\r\n\tuseHelper(lightRef, THREE.PointLightHelper, [datas.helper ? 1 : 0])\r\n\r\n\tconst meshRef = useRef<THREE.Mesh>()\r\n\tconst { scene } = useThree()\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!scene.userData.refs) scene.userData.refs = {}\r\n\t\tscene.userData.refs.lightMesh = meshRef\r\n\t}, [scene.userData])\r\n\r\n\tuseEffect(() => {\r\n\t\tmeshRef.current!.lookAt(0, 0, 0)\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<mesh ref={meshRef} position={position}>\r\n\t\t\t<circleGeometry args={[datas.size, 64]} />\r\n\t\t\t<meshBasicMaterial color={datas.color} side={THREE.DoubleSide} />\r\n\t\t\t<pointLight\r\n\t\t\t\tref={lightRef}\r\n\t\t\t\tcolor={color(datas.color).lighten(0.5).toHexString()}\r\n\t\t\t\tintensity={1}\r\n\t\t\t\tshadow-mapSize-width={512}\r\n\t\t\t\tshadow-mapSize-height={512}\r\n\t\t\t\tcastShadow\r\n\t\t\t/>\r\n\t\t</mesh>\r\n\t)\r\n}\r\n\r\nconst useController = () => {\r\n\tconst datas = useControls('light', {\r\n\t\tsize: {\r\n\t\t\tvalue: 4.5,\r\n\t\t\tmin: 0.2,\r\n\t\t\tmax: 10,\r\n\t\t\tstep: 0.1\r\n\t\t},\r\n\t\tcolor: '#525252',\r\n\t\thelper: false\r\n\t})\r\n\treturn datas\r\n}\r\n","/*\r\nAuto-generated by: https://github.com/pmndrs/gltfjsx\r\n*/\r\n\r\nimport { useControls } from 'leva';\r\nimport React, { useRef, VFC } from 'react';\r\nimport * as THREE from 'three';\r\nimport { GLTF } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { useGLTF } from '@react-three/drei';\r\nimport { useFrame } from '@react-three/fiber';\r\n\r\ntype GLTFResult = GLTF & {\r\n\tnodes: {\r\n\t\tMesh_0001: THREE.Mesh\r\n\t}\r\n\tmaterials: {\r\n\t\t['Low_chapeau1.001']: THREE.MeshStandardMaterial\r\n\t}\r\n}\r\n\r\nconst ModelPath = process.env.PUBLIC_URL + '/assets/fallen_angel.glb'\r\n\r\nexport const Model: VFC<JSX.IntrinsicElements['group']> = props => {\r\n\t// add controller\r\n\tconst datas = useControls('model', {\r\n\t\trotate: false\r\n\t})\r\n\r\n\tconst group = useRef<THREE.Group>()\r\n\tconst { nodes, materials } = (useGLTF(ModelPath) as unknown) as GLTFResult\r\n\r\n\tmaterials['Low_chapeau1.001'].side = THREE.FrontSide\r\n\r\n\tuseFrame(() => {\r\n\t\tif (datas.rotate) {\r\n\t\t\tgroup.current!.rotation.y += 0.002\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<group ref={group} {...props} dispose={null}>\r\n\t\t\t<mesh\r\n\t\t\t\tcastShadow\r\n\t\t\t\treceiveShadow\r\n\t\t\t\tgeometry={nodes.Mesh_0001.geometry}\r\n\t\t\t\tmaterial={materials['Low_chapeau1.001']}\r\n\t\t\t/>\r\n\t\t</group>\r\n\t)\r\n}\r\n\r\nuseGLTF.preload(ModelPath)\r\n","import { useControls } from 'leva';\r\nimport React, { Suspense, VFC } from 'react';\r\nimport { OrbitControls, Stats } from '@react-three/drei';\r\nimport { Canvas } from '@react-three/fiber';\r\nimport { Effects } from './Effects';\r\nimport { Lights } from './Lights';\r\nimport { Model } from './Model';\r\n\r\nexport const FallenAngel: VFC = () => {\r\n\tconst datas = useControls('Scene', { bgColor: '#000' })\r\n\r\n\treturn (\r\n\t\t<Canvas\r\n\t\t\tcamera={{\r\n\t\t\t\tposition: [0, -1.5, 3],\r\n\t\t\t\tfov: 50,\r\n\t\t\t\taspect: window.innerWidth / window.innerHeight,\r\n\t\t\t\tnear: 0.1,\r\n\t\t\t\tfar: 2000\r\n\t\t\t}}\r\n\t\t\tdpr={window.devicePixelRatio}\r\n\t\t\tshadows>\r\n\t\t\t{/* canvas color */}\r\n\t\t\t<color attach=\"background\" args={[datas.bgColor]} />\r\n\t\t\t{/* fps */}\r\n\t\t\t<Stats />\r\n\t\t\t{/* camera controller */}\r\n\t\t\t<OrbitControls />\r\n\t\t\t{/* lights */}\r\n\t\t\t<Lights />\r\n\t\t\t{/* objects */}\r\n\t\t\t<Suspense fallback={null}>\r\n\t\t\t\t<Model position={[0, 0.3, 0]} />\r\n\t\t\t</Suspense>\r\n\t\t\t{/* effects */}\r\n\t\t\t<Effects />\r\n\t\t\t{/* helper */}\r\n\t\t\t{/* <axesHelper /> */}\r\n\t\t</Canvas>\r\n\t)\r\n}\r\n","import React, { VFC } from 'react';\nimport { FallenAngel } from './components/FallenAngel';\n\nexport const App: VFC = () => {\n\treturn (\n\t\t<div style={{ width: '100vw', height: '100vh', backgroundColor: '#000' }}>\n\t\t\t<FallenAngel />\n\t\t</div>\n\t)\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}